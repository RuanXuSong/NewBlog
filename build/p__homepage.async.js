(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"2RJ2":function(e,t,a){e.exports=a.p+"static/upPage.4be2f817.jpg"},H9hd:function(e,t,a){e.exports=a.p+"static/floor.13572a97.jpeg"},jLwg:function(e,t,a){"use strict";a.r(t);var i=a("qIgq"),s=a.n(i),o=a("q1tI"),n=a.n(o),r=a("sPgi"),h=a.n(r),d=a("OREr"),l=a.n(d),c=a("MZFn"),p=a.n(c),m=a("vdnJ"),u=a.n(m),v=a("wY1l"),f=a.n(v),w=a("f+2g");function g(e,t){function a(e){e.preventDefault()}this.object=e,this.target=new w["Vector3"](0,0,0),this.domElement=void 0!==t?t:document,this.enabled=!0,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.autoSpeedFactor=0,this.mouseX=0,this.mouseY=0,this.lat=0,this.lon=0,this.phi=0,this.theta=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.mouseDragOn=!1,this.viewHalfX=0,this.viewHalfY=0,this.domElement!==document&&this.domElement.setAttribute("tabindex",-1),this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.onMouseDown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.activeLook)switch(e.button){case 0:this.moveForward=!0;break;case 2:this.moveBackward=!0;break}this.mouseDragOn=!0},this.onMouseUp=function(e){if(e.preventDefault(),e.stopPropagation(),this.activeLook)switch(e.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1;break}this.mouseDragOn=!1},this.onMouseMove=function(e){this.domElement===document?(this.mouseX=e.pageX-this.viewHalfX,this.mouseY=e.pageY-this.viewHalfY):(this.mouseX=e.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=e.pageY-this.domElement.offsetTop-this.viewHalfY)},this.onKeyDown=function(e){switch(e.keyCode){case 38:case 87:this.moveForward=!0;break;case 37:case 65:this.moveLeft=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this.moveRight=!0;break;case 82:this.moveUp=!0;break;case 70:this.moveDown=!0;break}},this.onKeyUp=function(e){switch(e.keyCode){case 38:case 87:this.moveForward=!1;break;case 37:case 65:this.moveLeft=!1;break;case 40:case 83:this.moveBackward=!1;break;case 39:case 68:this.moveRight=!1;break;case 82:this.moveUp=!1;break;case 70:this.moveDown=!1;break}},this.update=function(e){if(!1!==this.enabled){if(this.heightSpeed){var t=w["Math"].clamp(this.object.position.y,this.heightMin,this.heightMax),a=t-this.heightMin;this.autoSpeedFactor=e*(a*this.heightCoef)}else this.autoSpeedFactor=0;var i=e*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(i+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(i),this.moveLeft&&this.object.translateX(-i),this.moveRight&&this.object.translateX(i),this.moveUp&&this.object.translateY(i),this.moveDown&&this.object.translateY(-i);var s=e*this.lookSpeed;this.activeLook||(s=0);var o=1;this.constrainVertical&&(o=Math.PI/(this.verticalMax-this.verticalMin)),this.lon+=this.mouseX*s,this.lookVertical&&(this.lat-=this.mouseY*s*o),this.lat=Math.max(-85,Math.min(85,this.lat)),this.phi=w["Math"].degToRad(90-this.lat),this.theta=w["Math"].degToRad(this.lon),this.constrainVertical&&(this.phi=w["Math"].mapLinear(this.phi,0,Math.PI,this.verticalMin,this.verticalMax));var n=this.target,r=this.object.position;n.x=r.x+100*Math.sin(this.phi)*Math.cos(this.theta),n.y=r.y+100*Math.cos(this.phi),n.z=r.z+100*Math.sin(this.phi)*Math.sin(this.theta),this.object.lookAt(n)}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",a,!1),this.domElement.removeEventListener("mousedown",s,!1),this.domElement.removeEventListener("mousemove",i,!1),this.domElement.removeEventListener("mouseup",o,!1),window.removeEventListener("keydown",n,!1),window.removeEventListener("keyup",r,!1)};var i=h(this,this.onMouseMove),s=h(this,this.onMouseDown),o=h(this,this.onMouseUp),n=h(this,this.onKeyDown),r=h(this,this.onKeyUp);function h(e,t){return function(){t.apply(e,arguments)}}this.domElement.addEventListener("contextmenu",a,!1),this.domElement.addEventListener("mousemove",i,!1),this.domElement.addEventListener("mousedown",s,!1),this.domElement.addEventListener("mouseup",o,!1),window.addEventListener("keydown",n,!1),window.addEventListener("keyup",r,!1),this.handleResize()}var b=g;function x(e){this.manager=void 0!==e?e:w["DefaultLoadingManager"],this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}}x.prototype={constructor:w["OBJLoader"],load:function(e,t,a,i){var s=this,o=new w["XHRLoader"](s.manager);o.setPath(this.path),o.load(e,(function(e){t(s.parse(e))}),a,i)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);this.object&&"function"===typeof this.object._finalize&&this.object._finalize(),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var a=this._finalize(!1),i={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==a?a.smooth:this.smooth,groupStart:void 0!==a?a.groupEnd:0,groupEnd:-1,groupCount:-1};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();return t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart),!1!==e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize()},parseVertexIndex:function(e,t){var a=parseInt(e,10);return 3*(a>=0?a-1:a+t/3)},parseNormalIndex:function(e,t){var a=parseInt(e,10);return 3*(a>=0?a-1:a+t/3)},parseUVIndex:function(e,t){var a=parseInt(e,10);return 2*(a>=0?a-1:a+t/2)},addVertex:function(e,t,a){var i=this.vertices,s=this.object.geometry.vertices;s.push(i[e+0]),s.push(i[e+1]),s.push(i[e+2]),s.push(i[t+0]),s.push(i[t+1]),s.push(i[t+2]),s.push(i[a+0]),s.push(i[a+1]),s.push(i[a+2])},addVertexLine:function(e){var t=this.vertices,a=this.object.geometry.vertices;a.push(t[e+0]),a.push(t[e+1]),a.push(t[e+2])},addNormal:function(e,t,a){var i=this.normals,s=this.object.geometry.normals;s.push(i[e+0]),s.push(i[e+1]),s.push(i[e+2]),s.push(i[t+0]),s.push(i[t+1]),s.push(i[t+2]),s.push(i[a+0]),s.push(i[a+1]),s.push(i[a+2])},addUV:function(e,t,a){var i=this.uvs,s=this.object.geometry.uvs;s.push(i[e+0]),s.push(i[e+1]),s.push(i[t+0]),s.push(i[t+1]),s.push(i[a+0]),s.push(i[a+1])},addUVLine:function(e){var t=this.uvs,a=this.object.geometry.uvs;a.push(t[e+0]),a.push(t[e+1])},addFace:function(e,t,a,i,s,o,n,r,h,d,l,c){var p,m=this.vertices.length,u=this.parseVertexIndex(e,m),v=this.parseVertexIndex(t,m),f=this.parseVertexIndex(a,m);if(void 0===i?this.addVertex(u,v,f):(p=this.parseVertexIndex(i,m),this.addVertex(u,v,p),this.addVertex(v,f,p)),void 0!==s){var w=this.uvs.length;u=this.parseUVIndex(s,w),v=this.parseUVIndex(o,w),f=this.parseUVIndex(n,w),void 0===i?this.addUV(u,v,f):(p=this.parseUVIndex(r,w),this.addUV(u,v,p),this.addUV(v,f,p))}if(void 0!==h){var g=this.normals.length;u=this.parseNormalIndex(h,g),v=h===d?u:this.parseNormalIndex(d,g),f=h===l?u:this.parseNormalIndex(l,g),void 0===i?this.addNormal(u,v,f):(p=this.parseNormalIndex(c,g),this.addNormal(u,v,p),this.addNormal(v,f,p))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var a=this.vertices.length,i=this.uvs.length,s=0,o=e.length;s<o;s++)this.addVertexLine(this.parseVertexIndex(e[s],a));var n=0;for(o=t.length;n<o;n++)this.addUVLine(this.parseUVIndex(t[n],i))}};return e.startObject("",!1),e},parse:function(e){console.time("OBJLoader");var t=this._createParserState();-1!==e.indexOf("\r\n")&&(e=e.replace("\r\n","\n"));for(var a=e.split("\n"),i="",s="",o="",n=0,r=[],h="function"===typeof"".trimLeft,d=0,l=a.length;d<l;d++)if(i=a[d],i=h?i.trimLeft():i.trim(),n=i.length,0!==n&&(s=i.charAt(0),"#"!==s))if("v"===s)if(o=i.charAt(1)," "===o&&null!==(r=this.regexp.vertex_pattern.exec(i)))t.vertices.push(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]));else if("n"===o&&null!==(r=this.regexp.normal_pattern.exec(i)))t.normals.push(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]));else{if("t"!==o||null===(r=this.regexp.uv_pattern.exec(i)))throw new Error("Unexpected vertex/normal/uv line: '"+i+"'");t.uvs.push(parseFloat(r[1]),parseFloat(r[2]))}else if("f"===s)if(null!==(r=this.regexp.face_vertex_uv_normal.exec(i)))t.addFace(r[1],r[4],r[7],r[10],r[2],r[5],r[8],r[11],r[3],r[6],r[9],r[12]);else if(null!==(r=this.regexp.face_vertex_uv.exec(i)))t.addFace(r[1],r[3],r[5],r[7],r[2],r[4],r[6],r[8]);else if(null!==(r=this.regexp.face_vertex_normal.exec(i)))t.addFace(r[1],r[3],r[5],r[7],void 0,void 0,void 0,void 0,r[2],r[4],r[6],r[8]);else{if(null===(r=this.regexp.face_vertex.exec(i)))throw new Error("Unexpected face line: '"+i+"'");t.addFace(r[1],r[2],r[3],r[4])}else if("l"===s){var c=i.substring(1).trim().split(" "),p=[],m=[];if(-1===i.indexOf("/"))p=c;else for(var u=0,v=c.length;u<v;u++){var f=c[u].split("/");""!==f[0]&&p.push(f[0]),""!==f[1]&&m.push(f[1])}t.addLineGeometry(p,m)}else if(null!==(r=this.regexp.object_pattern.exec(i))){var g=r[0].substr(1).trim();t.startObject(g)}else if(this.regexp.material_use_pattern.test(i))t.object.startMaterial(i.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(i))t.materialLibraries.push(i.substring(7).trim());else{if(null===(r=this.regexp.smoothing_pattern.exec(i))){if("\0"===i)continue;throw new Error("Unexpected line: '"+i+"'")}var b=r[1].trim().toLowerCase();t.object.smooth="1"===b||"on"===b;var x=t.object.currentMaterial();x&&(x.smooth=t.object.smooth)}t.finalize();var M=new w["Group"];M.materialLibraries=[].concat(t.materialLibraries);for(d=0,l=t.objects.length;d<l;d++){var y=t.objects[d],E=y.geometry,L=y.materials,j="Line"===E.type;if(0!==E.vertices.length){var _=new w["BufferGeometry"];_.addAttribute("position",new w["BufferAttribute"](new Float32Array(E.vertices),3)),E.normals.length>0?_.addAttribute("normal",new w["BufferAttribute"](new Float32Array(E.normals),3)):_.computeVertexNormals(),E.uvs.length>0&&_.addAttribute("uv",new w["BufferAttribute"](new Float32Array(E.uvs),2));for(var k,S=[],F=0,I=L.length;F<I;F++){var V=L[F];x=void 0;if(null!==this.materials&&(x=this.materials.create(V.name),j&&x&&!(x instanceof w["LineBasicMaterial"]))){var U=new w["LineBasicMaterial"];U.copy(x),x=U}x||(x=j?new w["LineBasicMaterial"]:new w["MeshPhongMaterial"],x.name=V.name),x.shading=V.smooth?w["SmoothShading"]:w["FlatShading"],S.push(x)}if(S.length>1){for(F=0,I=L.length;F<I;F++){V=L[F];_.addGroup(V.groupStart,V.groupCount,F)}var z=new w["MultiMaterial"](S);k=j?new w["Line"](_,z):new w["Mesh"](_,z)}else k=j?new w["Line"](_,S[0]):new w["Mesh"](_,S[0]);k.name=y.name,M.add(k)}}return console.timeEnd("OBJLoader"),M}};var M=x,y="%PUBLIC_URL%/obj/Wood_Table.obj",E=a("zbOI"),L=a("H9hd"),j=(a("ooCA"),a("2RJ2")),_=function(){var e,t=Object(o["useRef"])(),a=Object(o["useState"])(),i=s()(a,2),r=i[0],d=i[1],c=Object(o["useState"])(),m=s()(c,2),v=m[0],w=m[1];return Object(o["useEffect"])((function(){t.current&&(d(t.current.clientWidth),w(t.current.clientHeight))}),[]),Object(o["useEffect"])((function(){var a,i,s,o,n=new h.a.Clock,d={x:0,y:0,z:0},c=new p.a;document.body.appendChild(c.dom);var m=function(){e=new h.a.WebGLRenderer({antialias:!0}),c.showPanel(0),c.domElement.style.position="absolute",c.domElement.style.left="0px",c.domElement.style.top="0px",e.setSize(r,v),t.current.appendChild(e.domElement),e.setClearColor(16777215,1),e.shadowMapEnabled=!0},u=function(){a=new h.a.PerspectiveCamera(45,r&&v?r/v:0,1,1e4),a.position.x=300,a.position.y=0,a.position.z=200,a.up.x=0,a.up.y=1,a.up.z=0,o=new b(a),a.lookAt(d),o.enabled=!0,o.lookSpeed=.1,o.movementSpeed=300,o.noFly=!0,o.lookVertical=!0,o.constrainVertical=!0,o.verticalMin=1,o.verticalMax=2,o.lon=270,o.lat=0},f=function(){i=new h.a.Scene},w=function(){var e=new h.a.PointLight(16777215);e.position.set(300,100,100),i.add(e),s=new h.a.DirectionalLight("#ffffff"),s.position.set(-40,60,-10),s.shadow.camera.near=20,s.shadow.camera.far=200,s.shadow.camera.left=-50,s.shadow.camera.right=50,s.shadow.camera.top=50,s.shadow.camera.bottom=-50,s.shadow.mapSize.height=512,s.shadow.mapSize.width=512,s.castShadow=!0,i.add(s)},g=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(s,o,n){var r=new h.a.BoxGeometry(s,o,n),d=new h.a.MeshLambertMaterial({color:16710609,side:h.a.DoubleSide}),l=new h.a.Mesh(r,d);l.position.y=t,l.position.x=e,l.position.z=a,l.castShadow=!0,l.receiveShadow=!0,i.add(l)}};e(1300)(2,1e3,2800),e(500,0,-1300)(2500,1e3,2),e(-700)(2,1e3,2800),e(500,0,1300)(2500,1e3,2);var t=new h.a.BoxGeometry(2500,2,2800),a=h.a.ImageUtils.loadTexture(L);a.wrapS=a.wrapT=h.a.RepeatWrapping,a.repeat.set(4,4);var s=new h.a.MeshLambertMaterial({map:a}),o=new h.a.Mesh(t,s);o.position.y=-500,o.position.x=100,o.position.z=0,o.castShadow=!0,o.receiveShadow=!0,i.add(o);var n=new h.a.BoxGeometry(2500,2,2800);a=h.a.ImageUtils.loadTexture(j);a.wrapS=a.wrapT=h.a.RepeatWrapping,a.repeat.set(8,8);var r=new h.a.MeshBasicMaterial({map:a}),d=new h.a.Mesh(n,r);d.position.y=500,d.position.x=100,d.position.z=0,i.add(d);for(var l=0;l<4;l++){var c=new h.a.PlaneGeometry(200,200,0,0),p=(a=h.a.ImageUtils.loadTexture(E),new h.a.MeshBasicMaterial({map:a})),m=new h.a.Mesh(c,p);m.position.x=1200,m.position.y=200,m.position.z=400*l-400,m.rotation.y=.5*-Math.PI,m.castShadow=!0,i.add(m)}for(var u=0;u<4;u++){c=new h.a.PlaneGeometry(200,200,0,0),a=h.a.ImageUtils.loadTexture(E),p=new h.a.MeshBasicMaterial({map:a}),m=new h.a.Mesh(c,p);m.position.x=400*u-300,m.position.y=200,m.position.z=-1200,m.castShadow=!0,i.add(m)}for(var v=0;v<4;v++){c=new h.a.PlaneGeometry(200,200,0,0),a=h.a.ImageUtils.loadTexture(E),p=new h.a.MeshBasicMaterial({map:a}),m=new h.a.Mesh(c,p);m.position.x=400*v-300,m.position.y=200,m.position.z=1200,m.rotation.y=1*-Math.PI,m.castShadow=!0,i.add(m)}for(var f=0;f<4;f++){c=new h.a.PlaneGeometry(200,200,0,0),a=h.a.ImageUtils.loadTexture(E),p=new h.a.MeshBasicMaterial({map:a}),m=new h.a.Mesh(c,p);m.position.x=-600,m.position.y=200,m.position.z=400*f-400,m.rotation.y=.5*Math.PI,m.castShadow=!0,i.add(m)}var w=new M;w.load(y,(function(e){console.log(e),e.position.x=300,e.position.y=0,e.position.z=200,i.add(e)}))};function x(){var e=new l.a.Tween(a.position).to({z:-100},3e3);e.start()}var _=function t(){e.clear(),e.render(i,a),requestAnimationFrame(t)},k=function t(){e.render(i,a),c.update(),o.update(n.getDelta()),requestAnimationFrame(t),l.a.update()};m(),u(),f(),w(),g(),_(),x(),k()}),[v,e,r]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:u.a.canvasFrame,ref:function(e){t.current=e}}),n.a.createElement(f.a,{to:"/city"},"city"))};t["default"]=_},ooCA:function(e,t,a){e.exports=a.p+"static/wallBackground.74f270a2.jpg"},vdnJ:function(e,t,a){e.exports={canvasFrame:"canvasFrame___dTsbo"}},zbOI:function(e,t,a){e.exports=a.p+"static/yay.05eb60c6.jpg"}}]);